# 修复“绑定群组”接口的请求体 schema 问题

## 问题分析

* **现状**：在 API 文档页面中，`/api/v1/groups/bind` 接口的请求体部分显示的是默认的 JSON 结构，包含 `roles` 和 `username` 字段，而不是我们期望的 `group_id`、`group_name`、`member_type`、`member_id` 和 `role` 字段

* **原因**：我们使用了 `Request` 对象来手动解析请求体，而不是使用 FastAPI 的自动参数解析功能，所以 FastAPI 无法自动生成正确的请求体 schema

## 解决方案

### 修改 `bind_group` 函数的实现

1. **使用 Pydantic 模型**：使用我们已经定义的 `GroupBind` 模型来定义请求体
2. **移除手动解析**：移除 `Request` 对象和手动解析请求体的代码
3. **使用自动参数解析**：让 FastAPI 自动将请求体解析为 `GroupBind` 对象
4. **调整参数顺序**：确保参数顺序与其他接口一致

### 修改步骤

1. **修改函数定义**：将 `request: Request` 参数改为 `payload: GroupBind`
2. **移除手动解析代码**：移除 `await request.json()` 和相关的解析代码
3. **使用模型属性**：使用 `payload.group_id`、`payload.group_name` 等属性来获取参数值
4. **保留验证逻辑**：保留对入群身份和角色的验证逻辑

### 验证步骤

1. 启动应用
2. 访问 API 文档页面
3. 检查 `/api/v1/groups/bind` 接口的请求体部分，确保显示了正确的字段
4. 测试接口，确保功能正常

